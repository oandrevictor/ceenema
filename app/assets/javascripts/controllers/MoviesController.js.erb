var controllers = angular.module('ceenema');
/*This Controller
#Creates the search function
#Sends the request to the Database
#Retrieves the result and send to the scope
*/
movies = []
controllers.controller("MoviesController", [ '$scope', '$routeParams', '$location', '$resource', '$http','$window',
    function($scope,$routeParams,$location, $resource, $http,$window) {


        angular.element(function() {
            //initialize swiper when document ready
            $scope.mySwiper = new Swiper('.swiper-container', {
                // Optional parameters
                direction: 'horizontal',
                //loop: true,
                mousewheelControl: true,
                paginationClickable: true,
                keyboardControl: true,

                // If we need pagination
                pagination: '.swiper-pagination',

                // Navigation arrows
                nextButton: '.swiper-button-next',
                prevButton: '.swiper-button-prev',
            })
        });


        $scope.onReadySwiper = function (swiper) {
            swiper.initObservers();
            swiper.updateSlidesSize()
        };

        $scope.$on('finishEvent',function(){
            if ($scope.mySwiper.update){
                $scope.mySwiper.update();
            } })


    }])